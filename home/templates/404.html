<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>404 - Page Not Found</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&family=Roboto+Mono:wght@700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #030712;
            color: #f9fafb;
            overflow-x: hidden; /* جلوگیری از اسکرول افقی */
        }
        
        /* انیمیشن اولیه (Pre-loader) */
        #preloader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: #030712; z-index: 9999; display: flex;
            justify-content: center; align-items: center; transition: opacity 0.75s ease-out;
        }
        .logo-path {
            stroke-dasharray: 1000; stroke-dashoffset: 1000;
            animation: draw 2s ease-in-out forwards;
        }
        @keyframes draw { to { stroke-dashoffset: 0; } }
        
        /* مخفی کردن محتوای اصلی در ابتدا */
        .content-hidden {
            visibility: hidden; opacity: 0;
            transition: visibility 0s 0.5s, opacity 0.5s linear;
        }
        .content-visible {
            visibility: visible; opacity: 1;
            transition: opacity 0.5s linear;
        }

        .scene {
            perspective: 1000px;
        }

        /* استایل برای انیمیشن گلیچ (Glitch) */
        .glitch {
            font-family: 'Roboto Mono', monospace;
            font-size: 8rem;
            font-weight: 700;
            position: relative;
            text-shadow: 0 0 10px rgba(59, 130, 246, 0.3), 0 0 20px rgba(59, 130, 246, 0.3);
            transition: transform 0.1s ease-out;
        }

        .glitch:before,
        .glitch:after {
            content: attr(data-text);
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: #030712; overflow: hidden;
        }

        .glitch:before {
            left: 2px; text-shadow: -2px 0 #ff00c1;
            animation: glitch-anim-1 2.5s infinite linear alternate-reverse;
        }

        .glitch:after {
            left: -2px; text-shadow: -2px 0 #00fff9, 2px 2px #ff00c1;
            animation: glitch-anim-2 2.5s infinite linear alternate-reverse;
        }

        @keyframes glitch-anim-1 {
            0% { clip-path: inset(15% 0 86% 0); } 20% { clip-path: inset(5% 0 95% 0); }
            40% { clip-path: inset(48% 0 52% 0); } 60% { clip-path: inset(90% 0 3% 0); }
            80% { clip-path: inset(30% 0 70% 0); } 100% { clip-path: inset(60% 0 40% 0); }
        }

        @keyframes glitch-anim-2 {
            0% { clip-path: inset(83% 0 1% 0); } 20% { clip-path: inset(34% 0 65% 0); }
            40% { clip-path: inset(2% 0 96% 0); } 60% { clip-path: inset(75% 0 20% 0); }
            80% { clip-path: inset(55% 0 45% 0); } 100% { clip-path: inset(92% 0 5% 0); }
        }
    </style>
</head>
<body class="d-flex flex-column">

    <div id="preloader">
        <svg width="100" height="100" viewBox="0 0 100 100">
            <path class="logo-path" d="M 30 20 L 30 70 Q 30 80 40 80 L 60 80" stroke="#3b82f6" stroke-width="5" fill="none" style="animation-delay: 0s;"></path>
            <path class="logo-path" d="M 50 20 L 50 80 Q 70 80 70 50 Q 70 20 50 20" stroke="#ffffff" stroke-width="5" fill="none" style="animation-delay: 0.5s;"></path>
        </svg>
    </div>

    <div id="main-content" class="content-hidden flex-grow-1 d-flex align-items-center justify-content-center">
        <div class="container text-center">
            <div class="scene">
                <div id="glitch-container" class="glitch" data-text="404">404</div>
            </div>
            
            <h1 class="text-3xl md:text-4xl font-bold text-white mt-4">Page Not Found</h1>
            <p class="text-lg text-gray-400 mt-2 max-w-md mx-auto">
                Oops! The page you're looking for seems to have gotten lost in the digital void.
            </p>
            
            <div class="mt-8">
                <a href="{% url 'home:home-feed' %}" class="inline-block bg-blue-600 text-white text-lg font-semibold px-8 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-300 shadow-lg shadow-blue-500/20">
                    Return to Homepage
                </a>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // منطق انیمیشن اولیه
        window.addEventListener('load', () => {
            const preloader = document.getElementById('preloader');
            const mainContent = document.getElementById('main-content');
            
            setTimeout(() => {
                preloader.style.opacity = '0';
                preloader.style.visibility = 'hidden';
                mainContent.classList.remove('content-hidden');
                mainContent.classList.add('content-visible');
            }, 2500); // 2.5 ثانیه نمایش انیمیشن
        });

        // افکت پارالاکس تعاملی با حرکت ماوس
        const scene = document.querySelector('.scene');
        const glitchContainer = document.getElementById('glitch-container');

        scene.addEventListener('mousemove', (e) => {
            const { clientX, clientY } = e;
            const { innerWidth, innerHeight } = window;
            const x = (clientX / innerWidth - 0.5) * 40;
            const y = (clientY / innerHeight - 0.5) * 40;
            glitchContainer.style.transform = `rotateY(${x}deg) rotateX(${-y}deg)`;
        });

        scene.addEventListener('mouseleave', () => {
            glitchContainer.style.transform = 'rotateY(0deg) rotateX(0deg)';
        });
    </script>
</body>
</html>